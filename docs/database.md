## 数据库结构说明

### 用户表

表名：`user`

| 属性      | 键类型 | 数据类型    | 说明                      |
| ------- | --- | ------- | ----------------------- |
| uno     | 主键  | int     | 用户编号（开头0-管理员，1-老师，2-学生） |
| uname   |     | varchar | 用户姓名                    |
| usex    |     | int     | 用户性别 0-♀， 1-♂           |
| upasswd |     | text    | 密码                      |

### 管理员表（后台更改）

表名：`admintt`

| 属性  | 键类型   | 数据类型 | 说明    |
| --- | ----- | ---- | ----- |
| ano | 主键，外键 | int  | 管理员编号 |

### 老师表

表名：`teacher`

| 属性     | 键类型   | 数据类型    | 说明     |
| ------ | ----- | ------- | ------ |
| tno    | 主键，外键 | int     | 老师编号   |
| tdept  |       | varchar | 院系名称   |
| tphnum | 可空    | char    | 老师手机号码 |

### 学生表

表名：`student`

| 属性     | 键类型   | 数据类型     | 说明                 |
| ------ | ----- | -------- | ------------------ |
| sno    | 主键，外键 | int      | 学生编号               |
| sdept  |       | varchar  | 院系名称               |
| sclazz |       | varchar  | 班级名称               |
| srank  | 默认为0  | int      | 学生身份 0-普通学生， 1-特长生 |
| sphnum |       | char(20) | 学生手机号码             |

### 场地信息表

表名：`court`

| 属性     | 键类型 | 数据类型    | 说明     |
| ------ | --- | ------- | ------ |
| cno    | 主键  | int     | 场地编号   |
| cname  |     | varchar | 场地名称   |
| cinfo  | 可空  | text    | 场地描述   |
| ctype  |     | int     | 场地类型   |
| cstate |     | int     | 场地当前状态 |

### 体育器材表

表名：`equipment`

| 属性     | 键类型 | 数据类型    | 说明     |
| ------ | --- | ------- | ------ |
| eno    | 主键  | int     | 器材编号   |
| ename  |     | varcahr | 器材名称   |
| enum_t |     | int     | 器材总数量  |
| enum_a |     | int     | 器材可用数量 |
| estate |     | int     | 器材当前状态 |

### 预约场地信息表

表名：`reservation`

| 属性      | 键类型 | 数据类型     | 说明     |
| ------- | --- | -------- | ------ |
| rno     | 主键  | bigint   | 预约订单编号 |
| rguest  | 外键  | int      | 预约者编号  |
| rcourt  | 外键  | int      | 场地编号   |
| rtime   |     | datetime | 预约的时间  |
| rbegin  |     | datetime | 预约开始时间 |
| rend    |     | datetime | 预约结束时间 |
| rstate  |     | int      | 预约的状态  |
| rreason |     | text     | 预约理由   |

### 租借器材信息表

表名：`rental`

| 属性       | 键类型 | 数据类型     | 说明     |
| -------- | --- | -------- | ------ |
| rtno     | 主键  | bigint   | 租借订单编号 |
| rtguest  | 外键  | int      | 租借者编号  |
| rteq     | 外键  | int      | 租借的器材  |
| rtdraw   |     | datetime | 领取时间   |
| rtreturn |     | datetime | 归还时间   |
| rtnum    |     | int      | 租借数量   |
| rtstate  |     | int      | 租借状态   |

### //院系信息表

表名：`dept_info`

| 属性      | 键类型 | 数据类型    | 说明        |
| ------- | --- | ------- | --------- |
| dname   | 主键  | varchar | 院系名称      |
| dhour_r |     | float   | 总预约时间（小时） |
| dnum_rt |     | int     | 总租借次数     |

### //运动统计表

表名：`sport_info`

| 属性       | 键类型 | 数据类型    | 说明    |
| -------- | --- | ------- | ----- |
| sptype   | 主键  | int     | 运动类型  |
| spname   |     | varchar | 运动名称  |
| sphour_r |     | float   | 总预约时间 |
| spnum_rt |     | int     | 总租借次数 |

### 场地信息

篮球场

室内篮球场-01-18

室外篮球场-19-36

羽毛球场

室内羽毛球场-01-24

乒乓球场

室内乒乓球场-01-48

排球场

室内排球场

室内排球场-01-4

室外排球场-01-4
